<div class="employee-container">
    <!-- Left: Leave List -->
    <div class="leave-list">
      <h2>My Leave Requests</h2>
      <button (click)="refresh()">Refresh</button>
  
      <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
  
      <ul *ngIf="leaveRequests.length; else noRequests">
        <li *ngFor="let req of leaveRequests">
          <strong>{{ req.reason || 'No reason' }}</strong>
          ({{ req.startDate }} → {{ req.endDate }})
          <span *ngIf="req.isApproved">✅ Approved</span>
          <span *ngIf="req.isRejected">❌ Rejected</span>
          <span *ngIf="!req.isApproved && !req.isRejected && !req.isWithdrawn">⏳ Pending</span>
          <span *ngIf="req.isWithdrawn">🚫 Withdrawn</span>
          <button *ngIf="!req.isApproved && !req.isRejected && !req.isWithdrawn" (click)="retract(req)">
            Retract
          </button>
        </li>
      </ul>
  
      <ng-template #noRequests><p>No leave requests.</p></ng-template>
    </div>
  
    <!-- Right: Create Form -->
    <div class="leave-form">
      <h2>Apply for Annual Leave</h2>
      <form (ngSubmit)="create()">
        <label>Start Date</label>
        <input type="date" [(ngModel)]="newStart" name="start" required />
  
        <label>End Date</label>
        <input type="date" [(ngModel)]="newEnd" name="end" required />
  
        <button type="submit">Add Leave</button>
      </form>
    </div>
  </div>
  